# 学生管理系统 — 权限与角色说明

## 一、文档说明

本文档用于说明学生管理系统中的角色划分原则与权限控制设计思路，作为系统设计与开发阶段的重要参考依据。

系统采用**基于角色的访问控制（RBAC）**设计思想，通过角色限制用户可访问的功能范围。

---

## 二、角色划分原则

- 角色职责单一，避免权限混杂
- 权限逐级递增，低权限角色不能越权操作
- 数据管理范围与角色业务场景保持一致

---

## 三、系统角色定义

### 3.1 学生（Student）

**基本权限：**
- 登录系统
- 查看与维护个人基础信息
- 查看、加入或退出专业班级
- 查看、加入或退出课程班级

**业务流程：**
- 学生申请加入班级后，状态为"待审批"
- 需等待辅导员（专业班级）或教师（课程班级）审批通过后才能正式加入

---

### 3.2 教师（Teacher）

**基本权限：**
- 登录系统
- 查看与维护个人基础信息
- 查看本人负责的课程班级列表
- 查看本人课程班级的学生列表

**管理权限：**
- 修改本人所负责课程班级的属性信息
- 管理本人课程班级中的学生关系（添加、移除）
- **审批学生加入课程班级的申请**（通过/拒绝）
- 批量审批学生申请

**权限限制：**
- 不可创建或删除课程班级
- 不可管理非本人负责的课程班级

---

### 3.3 辅导员（Counselor）

**基本权限：**
- 登录系统
- 查看与维护个人基础信息
- 查看本人负责的专业班级列表
- 查看本人专业班级的学生列表
- 查看本人负责的所有学生

**管理权限：**
- **创建学生账号**（单个或批量）
- 修改所负责专业班级的属性信息
- 管理专业班级中的学生关系（添加、移除）
- **审批学生加入专业班级的申请**（通过/拒绝）
- 批量审批学生申请

**权限限制：**
- 不可创建或删除专业班级
- 不可管理非本人负责的专业班级
- 只能创建学生角色的账号

---

### 3.4 管理员（Admin）

**完整权限：**
- 管理所有用户账号（创建、修改、删除、禁用）
- 创建、修改、删除专业班级与课程班级
- 分配辅导员到专业班级
- 分配教师到课程班级
- 管理所有学生与班级的关系
- 审批所有待审批的申请
- 查询系统内所有数据
- 批量操作（批量创建用户、批量删除等）

---

## 四、权限控制说明

### 4.1 接口权限校验

- 系统中所有敏感操作需在服务端进行权限校验
- 前端仅作为展示层，不作为权限判断依据
- 使用 JWT Token 进行身份认证
- 使用中间件进行角色权限校验

### 4.2 数据范围控制

| 角色 | 数据范围 |
| ---- | -------- |
| 学生 | 仅能查看和操作自己的数据 |
| 教师 | 仅能管理自己负责的课程班级 |
| 辅导员 | 仅能管理自己负责的专业班级和学生 |
| 管理员 | 可管理系统内所有数据 |

### 4.3 审批流程

**专业班级审批流程：**
1. 学生申请加入专业班级
2. 系统创建关联记录，状态为 `pending`
3. 辅导员在"我的班级"中查看待审批学生
4. 辅导员审批通过 → 状态变为 `approved`
5. 辅导员审批拒绝 → 删除关联记录

**课程班级审批流程：**
1. 学生申请加入课程班级
2. 系统创建关联记录，状态为 `pending`
3. 教师在"我的课程"中查看待审批学生
4. 教师审批通过 → 状态变为 `approved`
5. 教师审批拒绝 → 删除关联记录

> **注意：** 管理员/教师/辅导员直接添加学生时，状态直接为 `approved`，无需审批。

---

## 五、权限矩阵

### 5.1 用户管理权限

| 操作 | 学生 | 教师 | 辅导员 | 管理员 |
| ---- | ---- | ---- | ------ | ------ |
| 查看用户列表 | ✗ | ✗ | ✗ | ✓ |
| 创建用户 | ✗ | ✗ | 仅学生 | ✓ |
| 修改用户 | 仅自己 | 仅自己 | 仅自己 | ✓ |
| 删除用户 | ✗ | ✗ | ✗ | ✓ |
| 禁用/启用用户 | ✗ | ✗ | ✗ | ✓ |
| 批量操作 | ✗ | ✗ | 部分 | ✓ |

### 5.2 专业班级权限

| 操作 | 学生 | 教师 | 辅导员 | 管理员 |
| ---- | ---- | ---- | ------ | ------ |
| 查看班级列表 | ✓ | ✓ | ✓ | ✓ |
| 创建班级 | ✗ | ✗ | ✗ | ✓ |
| 修改班级 | ✗ | ✗ | 仅负责的 | ✓ |
| 删除班级 | ✗ | ✗ | ✗ | ✓ |
| 查看学生列表 | ✗ | ✗ | 仅负责的 | ✓ |
| 添加学生 | ✗ | ✗ | 仅负责的 | ✓ |
| 移除学生 | ✗ | ✗ | 仅负责的 | ✓ |
| 审批学生 | ✗ | ✗ | 仅负责的 | ✓ |
| 申请加入 | ✓ | ✗ | ✗ | ✗ |

### 5.3 课程班级权限

| 操作 | 学生 | 教师 | 辅导员 | 管理员 |
| ---- | ---- | ---- | ------ | ------ |
| 查看班级列表 | ✓ | ✓ | ✓ | ✓ |
| 创建班级 | ✗ | ✗ | ✗ | ✓ |
| 修改班级 | ✗ | 仅负责的 | ✗ | ✓ |
| 删除班级 | ✗ | ✗ | ✗ | ✓ |
| 查看学生列表 | ✗ | 仅负责的 | ✗ | ✓ |
| 添加学生 | ✗ | 仅负责的 | ✗ | ✓ |
| 移除学生 | ✗ | 仅负责的 | ✗ | ✓ |
| 审批学生 | ✗ | 仅负责的 | ✗ | ✓ |
| 申请加入 | ✓ | ✗ | ✗ | ✗ |

---

## 六、用户状态说明

系统中用户状态只有两种：

| 状态 | 说明 | 效果 |
| ---- | ---- | ---- |
| **active** | 正常 | 可以正常登录和使用系统 |
| **inactive** | 禁用 | 无法登录，提示"账号已被禁用" |

---

## 七、总结

通过明确的角色划分与权限边界，系统能够有效保障数据安全性与业务逻辑正确性，同时为后续功能扩展提供稳定基础。

**核心设计要点：**
1. 四种角色：学生、教师、辅导员、管理员
2. 基于角色的访问控制（RBAC）
3. 数据范围隔离（教师/辅导员只能管理自己负责的班级）
4. 审批机制（学生申请加入班级需要审批）
5. 辅导员可创建学生账号

---

## 八、文档变更记录

| 日期 | 版本 | 变更内容 | 变更人 |
| ---- | ---- | -------- | ------ |
| 2025-XX-XX | v1.0 | 创建权限与角色说明文档 | - |
| 2026-01-01 | v1.1 | 新增审批功能说明、权限矩阵、用户状态说明 | - |
| 2026-01-02 | v1.2 | 将"超级管理员"统一改为"管理员"，与代码保持一致 | - |
